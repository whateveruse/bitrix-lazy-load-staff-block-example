{"version":3,"file":"script.js","sources":["script.es6.js"],"sourcesContent":["import * as BX from \"main\";\nimport {Reflection, type as Type, ajax as Ajax} from 'main.core';\n\nconst namespace = Reflection.namespace('Citrus.Template');\n\nexport class Component {\n    constructor(params = {}) {\n        if (!Type.isPlainObject(params)) {\n            throw new Error('params should be an object');\n        }\n        if (!Type.isStringFilled(params.htmlId)) {\n            throw new Error('params.htmlId should be a string');\n        }\n        if (!Type.isStringFilled(params.signedParameters)) {\n            throw new Error('params.signedParameters should be a string');\n        }\n\n        this.signedParameters = params.signedParameters;\n        this.container = document.getElementById(params.htmlId);\n        this.lazyLoad = new BX.Citrus.Arealty.LazyLoad({\n            elements_selector: `#${params.htmlId}`,\n            unobserve_entered: true,\n            callback_enter: () => this.loadComponent(),\n        });\n    }\n\n    loadComponent() {\n        return Ajax.runComponentAction('citrus:template', 'loadComponent', {\n            mode: 'class',\n            signedParameters: this.signedParameters,\n            data: {}\n        }).then((response) => BX.Runtime.html(this.container, response.data.html));\n    }\n}\n\nnamespace.Component = Component;\n"],"names":["namespace","Reflection","Component","params","Type","isPlainObject","Error","isStringFilled","htmlId","signedParameters","container","document","getElementById","lazyLoad","BX","Arealty","LazyLoad","elements_selector","unobserve_entered","callback_enter","loadComponent","Ajax","runComponentAction","mode","data","then","response","html"],"mappings":";;;IAGA,IAAMA,SAAS,GAAGC,oBAAU,CAACD,SAAX,CAAqB,iBAArB,CAAlB;AAEA,QAAaE,SAAb;IACI,uBAAyB;IAAA;;IAAA,QAAbC,MAAa,uEAAJ,EAAI;IAAA;;IACrB,QAAI,CAACC,cAAI,CAACC,aAAL,CAAmBF,MAAnB,CAAL,EAAiC;IAC7B,YAAM,IAAIG,KAAJ,CAAU,4BAAV,CAAN;IACH;;IACD,QAAI,CAACF,cAAI,CAACG,cAAL,CAAoBJ,MAAM,CAACK,MAA3B,CAAL,EAAyC;IACrC,YAAM,IAAIF,KAAJ,CAAU,kCAAV,CAAN;IACH;;IACD,QAAI,CAACF,cAAI,CAACG,cAAL,CAAoBJ,MAAM,CAACM,gBAA3B,CAAL,EAAmD;IAC/C,YAAM,IAAIH,KAAJ,CAAU,4CAAV,CAAN;IACH;;IAED,SAAKG,gBAAL,GAAwBN,MAAM,CAACM,gBAA/B;IACA,SAAKC,SAAL,GAAiBC,QAAQ,CAACC,cAAT,CAAwBT,MAAM,CAACK,MAA/B,CAAjB;IACA,SAAKK,QAAL,GAAgB,IAAIC,SAAA,CAAUC,OAAV,CAAkBC,QAAtB,CAA+B;IAC3CC,MAAAA,iBAAiB,aAAMd,MAAM,CAACK,MAAb,CAD0B;IAE3CU,MAAAA,iBAAiB,EAAE,IAFwB;IAG3CC,MAAAA,cAAc,EAAE;IAAA,eAAM,KAAI,CAACC,aAAL,EAAN;IAAA;IAH2B,KAA/B,CAAhB;IAKH;;IAnBL;IAAA;IAAA,oCAqBoB;IAAA;;IACZ,aAAOC,cAAI,CAACC,kBAAL,CAAwB,iBAAxB,EAA2C,eAA3C,EAA4D;IAC/DC,QAAAA,IAAI,EAAE,OADyD;IAE/Dd,QAAAA,gBAAgB,EAAE,KAAKA,gBAFwC;IAG/De,QAAAA,IAAI,EAAE;IAHyD,OAA5D,EAIJC,IAJI,CAIC,UAACC,QAAD;IAAA,eAAcZ,UAAA,CAAWa,IAAX,CAAgB,MAAI,CAACjB,SAArB,EAAgCgB,QAAQ,CAACF,IAAT,CAAcG,IAA9C,CAAd;IAAA,OAJD,CAAP;IAKH;IA3BL;IAAA;IAAA;IA8BA3B,SAAS,CAACE,SAAV,GAAsBA,SAAtB;;;;;;;;"}